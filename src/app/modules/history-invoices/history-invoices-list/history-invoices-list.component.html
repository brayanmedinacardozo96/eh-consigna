<mat-form-field style="width: 100%">
  <mat-label>Buscar en el listado</mat-label>
  <input matInput (keyup)="applyFilter($event)" placeholder="Ej: 123456789">
</mat-form-field>

<div style="text-align: center !important; width: 100%; overflow-x: auto; ">
  <table mat-table [dataSource]="dataSource" matSort class="custom-table">

    <!-- Lote Column -->
    <ng-container matColumnDef="package">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Lote</th>
      <td mat-cell *matCellDef="let row"> {{row?.package}} </td>
    </ng-container>

    <!-- Cuenta Column -->
    <ng-container matColumnDef="account_complete">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Cuenta</th>
      <td mat-cell *matCellDef="let row">{{row?.account_complete}}</td>
    </ng-container>

    <!-- Nro. Factura Column -->
    <ng-container matColumnDef="invoice_number">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Nro. Factura</th>
      <td mat-cell *matCellDef="let row">{{row?.invoice_number}}</td>
    </ng-container>

    <!-- Ciclo Column -->
    <ng-container matColumnDef="cycle">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Ciclo</th>
      <td mat-cell *matCellDef="let row">{{row?.cycle}}</td>
    </ng-container>

    <!-- Mes Column -->
    <ng-container matColumnDef="month">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Mes</th>
      <td mat-cell *matCellDef="let row">{{row?.month}}</td>
    </ng-container>

    <!-- Año Column -->
    <ng-container matColumnDef="year">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Año</th>
      <td mat-cell *matCellDef="let row">{{row?.year}}</td>
    </ng-container>

    <!-- Email Column -->
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Email</th>
      <td mat-cell *matCellDef="let row">{{row?.destination_email}}</td>
    </ng-container>

    <!-- Fecha generación Column -->
    <ng-container matColumnDef="creation_date">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha generación</th>
      <td mat-cell *matCellDef="let row">{{row?.creation_date}}</td>
    </ng-container>

    <!-- Estado Column -->
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Estado</th>
      <td mat-cell *matCellDef="let row">
        <span [className]="'status ' + row?.status">{{row?.status_text}}</span>
        <mat-icon *ngIf="row?.path_pdf" (click)="openPdf(row?.path_pdf)" style="cursor: pointer;"
                  color="accent">insert_drive_file
        </mat-icon>
      </td>
    </ng-container>

    <!-- Observación Column -->
    <ng-container matColumnDef="error_message">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Observación</th>
      <td mat-cell *matCellDef="let row">{{row?.error_message}}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;">
    </tr>
  </table>

  <mat-paginator [pageSizeOptions]="[10, 50, 100]"></mat-paginator>
</div>
